<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Premier Films ‚Äî Multicines</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/multicines.css">
  <link rel="stylesheet" href="css/Styles.css">
</head>

<body>
  <header class="nav">
    <div class="nav-inner">
      <a class="brand" href="Index.html">
        <span class="logo"></span>
        <div>Premier Films<br><small>Cinema Experience</small></div>
      </a>

      <label class="search" aria-label="Buscar">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21 21l-3.9-3.9M10.8 18.6a7.8 7.8 0 1 1 0-15.6 7.8 7.8 0 0 1 0 15.6z" stroke="#94a3b8" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <input id="searchInput" type="search" placeholder="Buscar pel√≠culas, horarios, promoci√≥n" />
      </label>

      <nav class="tabs">
        <a class="tab" data-page="index" href="Index.html">Cartelera</a>
        <a class="tab" data-page="multicines" href="multicines.html">Multicines</a>
        <a class="tab" data-page="promos" href="promos.html">Promociones</a>
        <a class="tab" data-page="vip" href="vip.html">Tarjeta VIP</a>
      </nav>

      <div class="nav-actions">
        <a class="icon-btn" href="favoritos.html" title="Favoritos" aria-label="Favoritos">
          <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M20.8 4.6c-1.7-1.5-4.5-1.3-6 .6-1.5-1.9-4.3-2.1-6-.6-1.8 1.6-2.1 4.2-.8 6 2.2 3.6 6.8 6.5 6.8 6.5s4.6-2.9 6.8-6.5c1.3-1.8 1-4.4-.8-6Z"/>
          </svg>
        </a>

        <a class="icon-btn" href="cart.html" title="Carrito" aria-label="Carrito">
          <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
            <circle cx="9" cy="19" r="1.6"/>
            <circle cx="18" cy="19" r="1.6"/>
            <path d="M5 6h16l-2 8H8L6 6Z"/>
            <path d="M6 6 5 3H2"/>
          </svg>
        </a>

        <!-- Bot√≥n de auth con ID para nav-auth.js -->
        <a class="btn" id="navAuthBtn" href="auth.html">Iniciar Sesi√≥n</a>
      </div>
    </div>
  </header>

  <!-- FILTROS -->
  <section class="filters">
    <div class="f-bar">
      <div class="f-group">
        <strong>Ciudad</strong>
        <select id="city"></select>
      </div>
      <div class="f-group">
        <strong>B√∫squeda</strong>
        <select id="busqueda">
          <option value="">Seleccionar</option>
          <option value="cartelera">Cartelera</option>
          <option value="atencion">Atenci√≥n al cliente</option>
        </select>
      </div>
      <div class="f-group">
        <strong>&nbsp;</strong>
        <button class="btn" id="btnBuscar">Buscar</button>
      </div>
      <div class="f-group">
        <strong>&nbsp;</strong>
        <button class="btn" id="btnClear">Limpiar filtros</button>
      </div>
    </div>
  </section>

  <!-- GRID -->
  <main class="wrap">
    <div id="grid" class="grid" aria-live="polite"></div>
  </main>

  <script>
    const multicines = [
      {
        id: 1,
        nombre: "Premier Films - Unico",
        ciudad: "Barranquilla",
        barrio: "Centro",
        direccion: "Cra 45 # 34-12",
        telefono: "+57 300 456 7890",
        correo: "barranquilla@premierfilms.com",
        horario: "Lun-Dom: 10:00‚Äì21:00",
        servicios: ["2D","3D","Salas VIP","D-BOX"],
        portada: "img/posters/unico autled.jpg"
      },
      {
        id: 2,
        nombre: "Premier Films - Buenavista",
        ciudad: "Barranquilla",
        barrio: "Buenavista",
        direccion: "C.C. Buenavista, Nivel 3",
        telefono: "+57 301 654 7890",
        correo: "buenavista@premierfilms.com",
        horario: "Lun-Dom: 10:00‚Äì21:30",
        servicios: ["2D","3D","IMAX","VIP"],
        portada: "img/posters/buenavista.jpg"
      },
      {
        id: 3,
        nombre: "Premier Films - El Poblado",
        ciudad: "Medell√≠n",
        barrio: "El Poblado",
        direccion: "Calle 10 # 36-12",
        telefono: "+57 302 345 6789",
        correo: "medellin@premierfilms.com",
        horario: "Lun-Dom: 10:00‚Äì22:00",
        servicios: ["2D","3D","4DX"],
        portada: "img/posters/el poblado.jpg"
      },
      {
        id: 4,
        nombre: "Premier Films - Unicentro",
        ciudad: "Bogot√°",
        barrio: "Santa B√°rbara",
        direccion: "C.C. Unicentro, Local 214",
        telefono: "+57 303 987 6543",
        correo: "bogota@premierfilms.com",
        horario: "Lun-Dom: 9:30‚Äì21:30",
        servicios: ["2D","3D","VIP","Dolby Atmos"],
        portada: "img/posters/unicentro.jpg"
      }
    ];

    const $ = s => document.querySelector(s);
    const grid = $('#grid');
    const city = $('#city');
    const busqueda = $('#busqueda');
    const btnBuscar = $('#btnBuscar');
    const btnClear = $('#btnClear');

    // ========= Llenar ciudades =========
    function fillCities() {
      const ciudades = [...new Set(multicines.map(m => m.ciudad))];
      city.innerHTML = '<option value="">Seleccionar ciudad</option>';
      ciudades.forEach(c => {
        const opt = document.createElement('option');
        opt.value = c;
        opt.textContent = c;
        city.appendChild(opt);
      });
    }

    // ========= Mostrar Atenci√≥n al cliente =========
    function mostrarAtencion(ciudad) {
      const lugares = multicines.filter(m => m.ciudad === ciudad);
      if (!lugares.length) {
        grid.innerHTML = '<p style="color:#fff;">No hay informaci√≥n de atenci√≥n al cliente para esta ciudad.</p>';
        return;
      }

      grid.innerHTML = lugares.map(m => `
        <div class="card" style="background:#0f172a;border:1px solid rgba(255,255,255,.08);border-radius:12px;padding:20px;margin-bottom:16px;">
          <h3 style="color:#facc15;">${m.nombre}</h3>
          <p>üìç ${m.direccion}</p>
          <p>üìû ${m.telefono}</p>
          <p>üìß <a href="mailto:${m.correo}" style="color:#8dd3ff;">${m.correo}</a></p>
          <p>üïí ${m.horario}</p>
        </div>
      `).join('');
    }

    // ========= Mostrar Cartelera =========
    function mostrarCartelera(ciudad) {
      const lugares = multicines.filter(m => m.ciudad === ciudad);
      if (!lugares.length) {
        grid.innerHTML = '<p style="color:#fff;">No hay multicines registrados para esta ciudad.</p>';
        return;
      }

      grid.innerHTML = lugares.map(m => `
        <article class="card">
          <div class="cover">
            <img src="${m.portada}" alt="Fachada ${m.nombre}">
            <span class="badge">${m.ciudad}</span>
          </div>
          <div class="body">
            <h3>${m.nombre}</h3>
            <p>${m.barrio} ‚Ä¢ ${m.direccion}</p>
            <div class="chips">
              ${m.servicios.map(s=>`<span class="chip">${s}</span>`).join('')}
            </div>
          </div>
          <div class="foot">
            <button class="btn-gold" onclick="irACartelera('${m.id}','${m.nombre}','${m.ciudad}')">Ver horarios</button> 
            <button class="btn-outline" onclick="window.open('https://maps.google.com?q=${encodeURIComponent(m.direccion)}','_blank')">Ver en mapa</button>
          </div>
        </article>
      `).join('');
    }

    // ========= Redirigir a cartelera =========
    function irACartelera(id, nombre, ciudad) {
      const url = new URL('index.html', location.origin + location.pathname.replace(/[^/]+$/, ''));
      url.searchParams.set('cinema_id', id);
      url.searchParams.set('cinema', nombre);
      url.searchParams.set('city', ciudad);
      location.href = url.toString();
    }

    // ========= Buscar =========
    function buscar() {
      const ciudadSel = city.value.trim();
      const tipo = busqueda.value.trim();

      if (!ciudadSel || !tipo) {
        grid.innerHTML = '<p style="color:#fff;">Selecciona una ciudad y una opci√≥n de b√∫squeda antes de continuar.</p>';
        return;
      }

      if (tipo === 'atencion') mostrarAtencion(ciudadSel);
      else if (tipo === 'cartelera') mostrarCartelera(ciudadSel);
    }

    // ========= Eventos =========
    fillCities();

    // --- aplicar estilos amarillos a botones principales ---
    btnBuscar.classList.add('btn-gold');
    btnClear.classList.add('btn-gold');

    btnBuscar.addEventListener('click', buscar);
    btnClear.addEventListener('click', () => {
      city.value = '';
      busqueda.value = '';
      grid.innerHTML = '';
    });
  </script>

  <!-- Barra de sesi√≥n compartida -->
  <script src="js/nav-auth.js"></script>
</body>
</html>
